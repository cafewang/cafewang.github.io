---
title:  "ç®—æ³•æ¼«è°ˆ-é“¾è¡¨"
date: 2025-01-17 21:30:44 +0800
categories: algorithm link-list ç®—æ³• é“¾è¡¨
---
æœ¬æ–‡çš„è®¨è®ºéƒ½æ˜¯å›´ç»•äºå•é“¾è¡¨ï¼Œä¸€èµ·æ€»ç»“å¸¸è§çš„é—®é¢˜åŠè§£æ³•ã€‚
å•é“¾è¡¨å®šä¹‰ä»¥åŠ›æ‰£ä¸ºå‡†ã€‚
```java
public class ListNode {
    int val;
    ListNode next;
    ListNode() {}
    ListNode(int val) { this.val = val; }
    ListNode(int val, ListNode next) { this.val = val; this.next = next; }
}
```
## åè½¬
æœ€åŸºç¡€çš„åè½¬é“¾è¡¨æœ‰é€’å½’å’Œè¿­ä»£ä¸¤ç§å½¢å¼ï¼Œè¿™é‡Œä»‹ç»é€’å½’ã€‚

é—®é¢˜å®šä¹‰
```text
ç»™å®šä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œåè½¬é“¾è¡¨åè¿”å›æ–°çš„å¤´èŠ‚ç‚¹
```

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
]
\draw (0,0) node (a) {1} (2,0) node (b) {2} (4,0) node (c) {3};
\path[->] (a) edge (b) (b) edge (c);

\draw (0,2) node (e) {3} (2,2) node (f) {2} (4,2) node (g) {1};
\path[->] (e) edge (f) (f) edge (g);
\end{tikzpicture}
</script>

```java
// https://leetcode.cn/problems/reverse-linked-list/submissions/575156185/
    public ListNode reverseList(ListNode head) {
        if (head == null) {
            return null;
        }
    
        return reverse(null, head);
    }
    
    public ListNode reverse(ListNode prev, ListNode head) {
        ListNode next = head.next;
    
        if (next == null) {
            head.next = prev;
            return head;
        }
    
        ListNode newHead = reverse(head, next);
        head.next = prev;
        return newHead;
    }
```
åè½¬é“¾è¡¨å…³é”®åœ¨äº
+ éå†æ—¶è®°å½•prevèŠ‚ç‚¹ï¼Œå½“å‰èŠ‚ç‚¹æŒ‡å‘å‰ä¸€èŠ‚ç‚¹å³å®Œæˆåè½¬
+ ç”±äºæœ€åä¸€ä¸ªèŠ‚ç‚¹å˜æˆå¤´èŠ‚ç‚¹ï¼Œéœ€è¦æ‰§è¡Œåˆ°æœ€åæ‰èƒ½å–å¾—

è¿™é‡Œæˆ‘ä»¬å¼•å…¥ä¸€ä¸ªå’Œåè½¬ä¸ç›¸å¹²çš„é—®é¢˜ï¼Œä¸ºåç»­è§£é¢˜åšé“ºå«
```text
ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œåˆ é™¤é“¾è¡¨çš„å€’æ•°ç¬¬nä¸ªç»“ç‚¹ï¼Œå¹¶ä¸”è¿”å›é“¾è¡¨çš„å¤´ç»“ç‚¹ã€‚
```
ä¸¾ä¾‹ï¼Œåˆ é™¤å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
bluenode/.style={fill=teal!20},
]
\draw (0,2) node (a) {1} (2,2) node[bluenode] (b) {2} (4,2) node (c) {3};
\path[->] (a) edge (b) (b) edge (c);

\draw (0,0) node (e) {1} (4,0) node (g) {3};
\path[->] (e) edge (g);

\end{tikzpicture}
</script>

æˆ‘ä»¬å¯ä»¥é‡‡ç”¨`å¿«æ…¢æŒ‡é’ˆ`çš„æ–¹å¼ï¼Œæ€è·¯å¦‚ä¸‹
+ å¿«æ…¢æŒ‡é’ˆéƒ½æŒ‡å‘å¤´èŠ‚ç‚¹
+ å…ˆå°†å¿«æŒ‡é’ˆå‘å‰èµ°næ­¥
+ å¿«æ…¢æŒ‡é’ˆåŒæ­¥å‰è¿›ï¼Œç›´åˆ°å¿«æŒ‡é’ˆä¸ºç©ºæ—¶ï¼Œæ…¢æŒ‡é’ˆå³æŒ‡å‘å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹

è¿˜æ˜¯ä»¥å›¾ä¸ºä¾‹ï¼Œå‡è®¾è¦æ±‚å€’æ•°ç¬¬äºŒä¸ªèŠ‚ç‚¹

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
bluenode/.style={fill=teal!20},
greennode/.style={fill=green!20},
]
\draw (0,4) node[greennode] (a) {4} (2,4) node (b) {3} (4,4) node[bluenode] (c) {2} (6,4) node (d) {1} (8,4) node[draw=none] (e) {null};
\path[->] (a) edge (b) (b) edge (c) (c) edge (d) (d) edge (e);

\draw (0,2) node (f) {4} (2,2) node[greennode] (g) {3} (4,2) node (h) {2} (6,2) node[bluenode] (i) {1} (8,2) node[draw=none] (j) {null};
\path[->] (f) edge (g) (g) edge (h) (h) edge (i) (i) edge (j);

\draw (0,0) node (k) {4} (2,0) node (l) {3} (4,0) node[greennode] (m) {2} (6,0) node (n) {1} (8,0) node[draw=none] (o) {null};
\path[->] (k) edge (l) (l) edge (m) (m) edge (n) (n) edge (o);
\end{tikzpicture}
</script>

å¯ä»¥æ¸…æ¥šåœ°çœ‹åˆ°æŒ‡é’ˆç§»åŠ¨çš„è½¨è¿¹<br>
ä¸Šå›¾è§£å†³äº†æ±‚å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹çš„é—®é¢˜ï¼Œè¦åˆ é™¤è¿™ä¸ªèŠ‚ç‚¹ï¼Œå°±è¦æ±‚å€’æ•°ç¬¬n+1ä¸ªèŠ‚ç‚¹

```java
// https://leetcode.cn/problems/remove-nth-node-from-end-of-list/submissions/593841422/
    public ListNode removeNthFromEnd(ListNode head, int n) {
        int counter = 0;
        ListNode dummy = new ListNode(0, head);
        ListNode front = head, back = dummy;
        while (counter != n) {
            front = front.next;
            counter++;
        }
    
        while (front != null) {
            front = front.next;
            back = back.next;
        }
    
        back.next = back.next.next;
    
        return dummy.next;
    }
```
+ å¿«æŒ‡é’ˆå…ˆèµ°äº†næ­¥ï¼Œè€Œæ…¢æŒ‡é’ˆåé€€äº†ä¸€æ­¥(ä»dummyèŠ‚ç‚¹å‡ºå‘)ï¼Œæ‰€ä»¥æœ€ç»ˆèµ°åˆ°å€’æ•°ç¬¬n+1ä¸ªèŠ‚ç‚¹
+ æ–°çš„å¤´èŠ‚ç‚¹ç”±dummy.nextæŒ‡å‘

å­¦ä¼š`åè½¬é“¾è¡¨`å’Œ`æ±‚å€’æ•°ç¬¬nä¸ªèŠ‚ç‚¹`ï¼Œåç»­é—®é¢˜å°±ä¸éš¾å¤„ç†äº†
```text
åˆ¤æ–­é“¾è¡¨æ˜¯å¦ä¸ºå›æ–‡é“¾è¡¨
```

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
]
\draw (0,2) node (a) {1} (2,2) node (b) {2} (4,2) node (c) {3} (6,2) node (d) {2} (8,2) node (e) {1};
\path[->] (a) edge (b) (b) edge (c) (c) edge (d) (d) edge (e);

\end{tikzpicture}
</script>

ä¸Šå›¾å³ä¸ºå›æ–‡é“¾è¡¨<br>
+ é¦–å…ˆç”¨å¿«æ…¢æŒ‡é’ˆèµ°åˆ°ä¸­ç‚¹ä½ç½®ï¼Œä¸­ç‚¹ä¸ºé“¾è¡¨å‰åŠæ®µçš„æœ€åä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¥‡æ•°é•¿åº¦å‰åŠæ®µå°‘ä¸€ä¸ªèŠ‚ç‚¹
+ åè½¬ä¸­ç‚¹ä¹‹åçš„é“¾è¡¨
+ ä»åŸé“¾è¡¨å¤´éƒ¨å’Œåè½¬åé“¾è¡¨å¤´éƒ¨å¼€å§‹å¯¹æ¯”ï¼Œç›´åˆ°åŸé“¾è¡¨ä¸ºç©º

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
bluenode/.style={fill=teal!20},
greennode/.style={fill=green!20},
]
\draw (0,2) node[greennode] (f) {1} (2,2) node (g) {2} (4,2) node[bluenode] (h) {3} (6,2) node (i) {2} (8,2) node (j) {1};
\path[->] (f) edge (g) (g) edge (h) (h) edge (i) (i) edge (j);

\draw (0,0) node[greennode] (f) {1} (2,0) node (g) {2} (4,0) node (h) {3} (6,0) node (i) {2} (8,0) node[bluenode] (j) {1};
\path[->] (f) edge (g);
\path[->] (j) edge (i) (i) edge (h);
\end{tikzpicture}
</script>

å¦‚ä¸Šå›¾ï¼Œé“¾è¡¨è¢«åˆ†ä¸ºä¸¤æ®µï¼Œæœ¬æ–‡æ²¡æœ‰ä½œæ¢å¤
```java
// https://leetcode.cn/problems/palindrome-linked-list/submissions/594222796/
    public boolean isPalindrome(ListNode head) {
        if (head == null || head.next == null) {
            return true;
        }

        ListNode fast = head.next.next == null ? null : head.next.next.next;
        ListNode slow = head;

        while (fast != null) {
            fast = fast.next == null ? null : fast.next.next;
            slow = slow.next;
        }

        ListNode reversed = reverse(slow.next, null);
        slow.next = null;
        ListNode current = head;
        while (current != null) {
            if (current.val != reversed.val) {
                return false;
            }
            current = current.next;
            reversed = reversed.next;
        }
        return true;
    }

    public ListNode reverse(ListNode node, ListNode prev) {
        ListNode next = node.next;
        node.next = prev;
        if (next == null) {
            return node;
        }
        return reverse(next, node);
    }
```
+ å¿«æŒ‡é’ˆå…ˆèµ°äº†3æ­¥ï¼Œä»¥ä¿è¯æ…¢æŒ‡é’ˆèƒ½åˆ°è¾¾ä¸­ç‚¹
+ ä¸€å®šæ˜¯åŸé“¾è¡¨å…ˆèµ°å®Œï¼Œæ‰€ä»¥åˆ¤ç©ºåªåˆ¤æ–­åŸé“¾è¡¨

æ¥çœ‹åè½¬ç±»é—®é¢˜çš„æœ€åä¸€ä¸ª
```text
ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œæ¯kä¸ªèŠ‚ç‚¹ä¸€ç»„è¿›è¡Œåè½¬ï¼Œæœ€åä¸€ç»„ä¸è¶³kä¸ªåˆ™ä¸åè½¬ï¼Œè¿”å›ä¿®æ”¹åçš„é“¾è¡¨
kä¸ºæ­£æ•´æ•°
```
å‡è®¾k=2

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
bluenode/.style={fill=purple!20, draw=purple!80},
greennode/.style={fill=teal!20, draw=teal!80},
]
\draw (0,2) node[greennode] (f) {1} (2,2) node[greennode] (g) {2} (4,2) node[bluenode] (h) {3} (6,2) node[bluenode] (i) {4} (8,2) node[greennode] (j) {5};
\path[->] (f) edge (g) (g) edge (h) (h) edge (i) (i) edge (j);

\draw (0,0) node[greennode] (f) {2} (2,0) node[greennode] (g) {1} (4,0) node[bluenode] (h) {4} (6,0) node[bluenode] (i) {3} (8,0) node[greennode] (j) {5};
\path[->] (f) edge (g) (g) edge (h) (h) edge (i) (i) edge (j);
\end{tikzpicture}
</script>

å¦‚å›¾æ‰€ç¤ºæœ€åä¸€ä¸ªèŠ‚ç‚¹5æ²¡æœ‰åè½¬<br>
è¿™é“é¢˜çš„å…³é”®ç‚¹åœ¨äº
+ è¿›è¡Œè®¡æ•°ï¼Œè¾¾åˆ°kä¸ªèŠ‚ç‚¹æ‰åè½¬
+ æ¯ä¸€ç»„èŠ‚ç‚¹ä¿å­˜é¦–å°¾ï¼Œå¦‚æœè¢«åè½¬åˆ™éœ€è¦å’Œä¸Šä¸€ç»„é‡æ–°è¿æ¥

```java
// https://leetcode.cn/problems/reverse-nodes-in-k-group/submissions/593507169
    public ListNode reverseKGroup(ListNode head, int k) {
        ListNode lastTail = null, current = head;
        ListNode newHead = null;

        while (current != null) {
            ListNode[] headAndTail = reverseK(current, k);
            ListNode headK = headAndTail[0], tailK = headAndTail[1];
            current = tailK.next;
            if (lastTail != null) {
                lastTail.next = headK;
            }
            lastTail = tailK;
            if (newHead == null) {
                newHead = headK;
            }
        }

        return newHead;
    }

    public ListNode[] reverseK(ListNode head, int k) {
        ListNode prev = null, current = head;
        ListNode newHead = null;
        int counter = 0;

        while (current != null && counter != k) {
            counter++;
            prev = current;
            current = current.next;
        }

        if (counter != k) {
            return new ListNode[]{head, prev};
        }

        prev = null;
        current = head;
        counter = 0;
        while (current != null && counter != k) {
            ListNode next = current.next;
            current.next = prev;
            prev = current;
            current = next;
            counter++;
        }
        newHead = prev;
        head.next = current;
        return new ListNode[]{newHead, head};
    }
```
æ³¨æ„lastTailçš„ä½¿ç”¨ï¼Œå®ƒè¡¨ç¤ºä¸Šä¸€ç»„èŠ‚ç‚¹çš„å°¾èŠ‚ç‚¹<br>
å¦‚æœå½“å‰ç»„è¢«åè½¬ï¼Œåˆ™lastTailè¿æ¥åè½¬åçš„å¤´ç»“ç‚¹<br>
åè½¬åçš„å°¾èŠ‚ç‚¹æˆä¸ºæ–°çš„lastTail

## ç¯å½¢
```text
åˆ¤æ–­ä¸€ä¸ªé“¾è¡¨æ˜¯å¦å­˜åœ¨ç¯ï¼Œå³ä»å¤´ç»“ç‚¹éå†ï¼Œæ˜¯å¦ä¼šæ— é™å¾ªç¯ä¸‹å»
```

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
greennode/.style={fill=blue!20, draw=blue!80},
]
\draw (0,0) node (f) {1} (2,0) node[greennode] (g) {2} (4,0) node[greennode] (h) {3} (6,0) node[greennode] (i) {4};
\path[->] (f) edge (g) (g) edge (h) (h) edge (i);
\draw[->] (i.east) .. controls (7.5,-1.2) and (1.8,-1.7) .. (g.south);
\end{tikzpicture}
</script>

å¦‚ä¸Šå›¾å­˜åœ¨å…¥å£ä¸º2ï¼Œç”±ä¸‰ä¸ªèŠ‚ç‚¹ç»„æˆçš„ç¯<br>
åˆ¤æ–­é“¾è¡¨æ˜¯å¦åŒ…å«ç¯ä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œæˆ‘ä»¬è®¾å®šç¯çš„æ–¹å‘ä¸º`é¡ºæ—¶é’ˆ`<br>
å‡è®¾å¿«æ…¢æŒ‡é’ˆéƒ½å·²è¿›å…¥ç¯ä¸­ï¼Œä¸”æ²¡æœ‰ç›¸é‡

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
bluenode/.style={fill=purple!20, draw=purple!80},
greennode/.style={fill=teal!20, draw=teal!80},
]
\foreach \deg/\type[count=\j from 2] in {150/bluenode,30/,-90/greennode}
  \node[\type] (c\j) at (\deg:2) {\j};
\node (c1) at (-5,-0.5) {1};
\path (c1) edge (c2);

\def\margin{18}
\foreach \i[count=\j from 2] in {150,30,-90}
    \draw[->] (\i-\margin:2) arc (\i-\margin:\i-120+\margin:2); 
\end{tikzpicture}
</script>

å¿«æŒ‡é’ˆåœ¨æ…¢æŒ‡é’ˆåä¸¤æ­¥ï¼Œè®©å¿«æŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ­¥ï¼Œæ…¢æŒ‡é’ˆèµ°ä¸€æ­¥ï¼Œåˆ™ä¸‹ä¸¤è½®ä¸¤æŒ‡é’ˆå°±ä¼šç›¸é‡

```java
// https://leetcode.cn/problems/linked-list-cycle/submissions/593425922/
    public boolean hasCycle(ListNode head) {
        ListNode dummy = new ListNode(0);
        dummy.next = head;
        ListNode fast = head, slow = dummy;

        while (fast != null) {
            if (fast == slow) {
                return true;
            }

            slow = slow.next;
            fast = fast.next == null ? null : fast.next.next;
        }

        return false;
    }
```

> ğŸ’¡æ³¨æ„ï¼šslowæŒ‡é’ˆä¸æ˜¯ä»å¤´ç»“ç‚¹ï¼Œè€Œæ˜¯å¤´ç»“ç‚¹ä¹‹å‰çš„dummyèŠ‚ç‚¹å‡ºå‘çš„ï¼Œæ‰€ä»¥fastå’ŒslowæŒ‡é’ˆç¬¬ä¸€æ¬¡æ˜¯åœ¨ç¯ä¸­ç›¸é‡


``text
ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨è¿›å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹
``

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
bluenode/.style={fill=purple!20, draw=purple!80},
greennode/.style={fill=teal!20, draw=teal!80},
violetnode/.style={fill=violet!20, draw=violet!80},
]
\foreach \deg/\type[count=\j from 3] in {495/violetnode,405/,315/greennode,225/}
  \node[\type] (c\j) at (\deg:2) {\j};
\node (c1) at (-7,-0.5) {1};
\node (c2) at (-5,-0.5) {2};
\path[->] (c1) edge (c2) (c2) edge (c3);

\def\margin{18}
\foreach \i[count=\j from 2] in {495,405,315,225}
    \draw[->] (\i-\margin:2) arc (\i-\margin:\i-90+\margin:2); 
\end{tikzpicture}
</script>

+ å¦‚ä¸Šå›¾ï¼Œæˆ‘ä»¬å°†å¤´ç»“ç‚¹åˆ°ç¯å…¥å£ç‚¹çš„æ­¥æ•°è®°ä¸ºa
+ ç¯å…¥å£ç‚¹åˆ°å¿«æ…¢èŠ‚ç‚¹ç›¸é‡ç‚¹çš„æ­¥æ•°è®°ä¸ºb
+ å¿«æ…¢èŠ‚ç‚¹ç›¸é‡ç‚¹åˆ°ç¯å…¥å£ç‚¹çš„æ­¥æ•°è®°ä¸ºcï¼Œå³`ç¯é•¿åº¦-b`
+ ä¸Šå›¾ä¸­a=2,b=2,c=2
+ æ…¢èŠ‚ç‚¹ä»å¤´ç»“ç‚¹åˆ°ç›¸é‡èµ°äº†`a+b`æ­¥
+ å¿«èŠ‚ç‚¹ä»å¤´ç»“ç‚¹åˆ°ç›¸é‡èµ°äº†`a+b+n(b+c)`æ­¥ï¼Œå³å¤šèµ°äº†nåœˆ(ä¸Šå›¾n=1)
+ ç”±äºå¿«èŠ‚ç‚¹æ­¥æ•°æ˜¯æ…¢èŠ‚ç‚¹çš„ä¸¤å€ï¼Œæ‰€ä»¥æœ‰

$$
\begin{align*}
a+b+n(b+c)&=2(a+b) \\
n(b+c)&=a+b \\
a-c&=(n-1)(b+c) \\
\end{align*}
$$

+ å³`ä»å¤´ç»“ç‚¹èµ°åˆ°ç¯å…¥å£ç‚¹=ç›¸é‡ç‚¹èµ°åˆ°ç¯å…¥å£ç‚¹å†èµ°è‹¥å¹²åœˆ`
+ æ‰€ä»¥è®©ä¸€ä¸ªæ–°èŠ‚ç‚¹ä»å¤´ç»“ç‚¹å‡ºå‘ï¼Œæ…¢èŠ‚ç‚¹ä»ç›¸é‡ç‚¹ç»§ç»­èµ°ï¼Œä¸¤ç‚¹æ¯æ¬¡éƒ½èµ°ä¸€æ­¥ï¼Œä¸€å®šä¼šåœ¨ç¯å…¥å£ç‚¹ç›¸é‡

```java
// https://leetcode.cn/problems/linked-list-cycle-ii/submissions/594408927
    public ListNode detectCycle(ListNode head) {
        if (head == null) {
            return null;
        }
        ListNode slow = head.next;
        ListNode fast = slow == null ? null : slow.next;
    
        while (fast != null) {
            if (fast == slow) {
                break;
            }
            slow = slow.next;
            fast = fast.next == null ? null : fast.next.next;
        }
    
        if (fast == null) {
            return null;
        }
    
        ListNode current = head;
        while (current != slow) {
            current = current.next;
            slow = slow.next;
        }
    
        return current;
    }
```

## åˆå¹¶
```text
å°†ä¸¤ä¸ªå‡åºé“¾è¡¨åˆå¹¶æˆä¸€ä¸ªï¼Œæ–°é“¾è¡¨ç”±åŸé“¾è¡¨èŠ‚ç‚¹ç»„æˆ
```

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
bluenode/.style={fill=teal!20, draw=teal!80},
greennode/.style={fill=violet!20, draw=violet!80},
]
\draw (0,4) node[greennode] (a) {1} (2,4) node[greennode] (b) {2} (4,4) node[greennode] (c) {4};
\path[->] (a) edge (b) (b) edge (c);

\draw (0,2) node[bluenode] (d) {1} (2,2) node[bluenode] (e) {3} (4,2) node[bluenode] (f) {4};
\path[->] (d) edge (e) (e) edge (f);

\draw (-1.25,1) -- (11.25,1);

\draw (0,0) node[greennode] (g) {1} (2,0) node[bluenode] (h) {1} (4,0) node[greennode] (i) {2} (6,0) node[bluenode] (j) {3} (8,0) node[greennode] (k) {4} (10,0) node[bluenode] (l) {4};
\path[->] (g) edge (h) (h) edge (i) (i) edge (j) (j) edge (k) (k) edge (l);
\end{tikzpicture}
</script>

+ ä¸å½’å¹¶æ’åºçš„mergeæ“ä½œç±»ä¼¼ï¼Œæˆ‘ä»¬æ¯æ¬¡é€‰æ‹©å€¼è¾ƒå°çš„èŠ‚ç‚¹æ”¾åœ¨æ–°é“¾è¡¨æœ€å
+ ä¸€æ—¦æœ‰èŠ‚ç‚¹ä¸ºç©ºï¼Œå°±æŠŠéç©ºçš„é“¾è¡¨æ¥åœ¨æ–°é“¾è¡¨ä¹‹åå³å¯

```java
// https://leetcode.cn/problems/merge-two-sorted-lists/submissions/59444775
    public ListNode mergeTwoLists(ListNode list1, ListNode list2) {
        ListNode current1 = list1, current2 = list2;
        ListNode dummy = new ListNode(), newList = dummy;
    
        while (current1 != null && current2 != null) {
            ListNode smaller = current1.val <= current2.val ? current1 : current2;
            newList = newList.next = smaller;
            current1 = current1 == smaller ? current1.next :
                    ((current2 = current2.next) == current2 ? current1 : current1);
        }
    
        if (current1 != null || current2 != null) {
            newList.next = current1 != null ? current1 : current2;
        }
    
        return dummy.next;
    }
```

æ¥ä¸‹æ¥æˆ‘ä»¬åˆå¹¶å¤šä¸ªæœ‰åºé“¾è¡¨
```text
ç»™å®šä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œæ¯ä¸ªé“¾è¡¨éƒ½æ˜¯å‡åºæ’åˆ—ï¼Œå°†å®ƒä»¬åˆå¹¶åˆ°ä¸€ä¸ªå‡åºé“¾è¡¨ä¸­
```

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
bluenode/.style={fill=teal!20, draw=teal!80},
greennode/.style={fill=violet!20, draw=violet!80},
limenode/.style={fill=olive!20, draw=olive!80},
]

\draw (0,6) node[limenode] (a) {3};

\draw (0,4) node[greennode] (b) {1} (2,4) node[greennode] (c) {2};
\path[->] (b) edge (c);

\draw (0,2) node[bluenode] (d) {1} (2,2) node[bluenode] (e) {2} (4,2) node[bluenode] (f) {5};
\path[->] (d) edge (e) (e) edge (f);

\draw (-1.25,1) -- (11.25,1);

\draw (0,0) node[greennode] (g) {1} (2,0) node[bluenode] (h) {1} (4,0) node[greennode] (i) {2} (6,0) node[bluenode] (j) {2} (8,0) node[limenode] (k) {3} (10,0) node[bluenode] (l) {5};
\path[->] (g) edge (h) (h) edge (i) (i) edge (j) (j) edge (k) (k) edge (l);
\end{tikzpicture}
</script>

è¿™é‡Œæœ‰ä¸¤ç§è§£æ³•
1. ä½¿ç”¨ä¼˜å…ˆé˜Ÿåˆ—ï¼Œæ¯æ¬¡å°†å¤´èŠ‚ç‚¹æœ€å°çš„é“¾è¡¨åŠ åˆ°æ–°é“¾è¡¨æœ€åå¹¶åç§»æŒ‡é’ˆ
2. ä½¿ç”¨å½’å¹¶æ’åºçš„æ€è·¯ï¼Œå°†é“¾è¡¨æ•°ç»„ä¸æ–­äºŒåˆ†ï¼Œç›´åˆ°æ•°ç»„é•¿åº¦ä¸å¤§äºäºŒæ—¶åˆå¹¶ä¸¤ä¸ªé“¾è¡¨ï¼Œå†å‘ä¸Šä¸æ–­åˆå¹¶

```java
// https://leetcode.cn/problems/merge-k-sorted-lists/submissions/593479947
    public ListNode mergeKLists(ListNode[] lists) {
        ListNode head = null, current = null;
        PriorityQueue<ListNode> queue = new PriorityQueue<>((a, b) -> Integer.compare(a.val, b.val));
        for (ListNode list : lists) {
            if (list != null) {
                queue.add(list);
            }
        }

        while (!queue.isEmpty()) {
            ListNode smallest = queue.poll();
            if (smallest.next != null) {
                queue.add(smallest.next);
            }

            if (head == null) {
                head = current = smallest;
            } else {
                current = current.next = smallest;
            }
        }

        return head;
    }
    
// https://leetcode.cn/problems/merge-k-sorted-lists/submissions/594601171
    public ListNode mergeKLists(ListNode[] lists) {
        return mergeK(lists, 0, lists.length);
    }
    
    public ListNode mergeK(ListNode[] lists, int start, int end) {
        if (start == end) {
            return null;
        }
        if (start + 1 == end) {
            return lists[start];
        }
        int mid = start + (end - start) / 2;
        return merge(mergeK(lists, start, mid), mergeK(lists, mid, end));
    }
    
    public ListNode merge(ListNode list1, ListNode list2) {
        ListNode dummy = new ListNode();
        ListNode newList = dummy, current1 = list1, current2 = list2;
    
        while (current1 != null && current2 != null) {
            ListNode smaller = current1.val <= current2.val ? current1 : current2;
            newList = newList.next = smaller;
            current1 = current1 == smaller ? current1.next :
                    ((current2 = current2.next) == null ? current1 : current1);
        }
        if (current1 != null || current2 != null) {
            newList.next = current1 != null ? current1 : current2;
        }
        return dummy.next;
    }
```


## æ‹†åˆ†
```text
ç»™å®šä¸€ä¸ªé“¾è¡¨å’Œç‰¹å®šå€¼xï¼Œä½¿é“¾è¡¨æ‰€æœ‰`å°äºx`çš„èŠ‚ç‚¹éƒ½å‡ºç°åœ¨`å¤§äºæˆ–ç­‰äºx`çš„èŠ‚ç‚¹ä¹‹å‰
ä¸éœ€è¦ä¿æŒæ¯ä¸ªåˆ†åŒºä¸­èŠ‚ç‚¹çš„åˆå§‹ç›¸å¯¹ä½ç½®
```

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
graynode/.style={fill=teal!20, draw=teal!80},
yellownode/.style={fill=violet!20, draw=violet!80},
]
\draw (0,2) node[graynode] (a1) {1} (2,2) node[yellownode] (a2) {3} (4,2) node[yellownode] (a3) {4} (6,2) node[graynode] (a4) {2} (8,2) node[yellownode] (a5) {5};
\path[->] (a1) edge (a2) (a2) edge (a3) (a3) edge (a4) (a4) edge (a5);

\draw (0,0) node[graynode] (b1) {2} (2,0) node[graynode] (b2) {1} (4,0) node[yellownode] (b3) {4} (6,0) node[yellownode] (b4) {3} (8,0) node[yellownode] (b5) {5};
\path[->] (b1) edge (b2) (b2) edge (b3) (b3) edge (b4) (b4) edge (b5);
\end{tikzpicture}
</script>

ä¸Šå›¾å°±æ˜¯ä¸€ç§æœ‰æ•ˆçš„è§£ï¼Œç”±äºä¸éœ€è¦ä¿æŒåˆ†åŒºå†…çš„ç›¸å¯¹ä½ç½®ï¼Œæˆ‘ä»¬æ¯é‡åˆ°å°äºxçš„èŠ‚ç‚¹å°±æ”¾åœ¨é“¾è¡¨å¤´éƒ¨å³å¯

```java
// https://leetcode.cn/problems/partition-list-lcci/submissions/594610931
    public ListNode partition(ListNode head, int x) {
        ListNode current = head, prev = null;
    
        while (current != null) {
            if (current.val >= x || head == current) {
                prev = current;
                current = current.next;
                continue;
            }
    
            ListNode next = current.next;
            prev.next = next;
            current.next = head;
            head = current;
            current = next;
        }
    
        return head;
    }
```
+ prevèŠ‚ç‚¹åœ¨currentæ”¾åœ¨å¤´éƒ¨åï¼ŒæŒ‡å‘nextèŠ‚ç‚¹

## æ’åº
```text
ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›å‡åºæ’åˆ—åçš„å¤´ç»“ç‚¹
```

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
graynode/.style={fill=teal!20, draw=teal!80},
yellownode/.style={fill=violet!20, draw=violet!80},
]
\draw (0,2) node (a1) {1} (2,2) node (a2) {3} (4,2) node (a3) {4} (6,2) node (a4) {2} (8,2) node (a5) {5};
\path[->] (a1) edge (a2) (a2) edge (a3) (a3) edge (a4) (a4) edge (a5);

\draw (0,0) node (b1) {1} (2,0) node (b2) {2} (4,0) node (b3) {3} (6,0) node (b4) {4} (8,0) node (b5) {5};
\path[->] (b1) edge (b2) (b2) edge (b3) (b3) edge (b4) (b4) edge (b5);
\end{tikzpicture}
</script>

æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä¸Šä¸€èŠ‚æ‹†åˆ†çš„æ€æƒ³ï¼ŒæŠŠå¤´ç»“ç‚¹çš„å€¼è®¾ä¸ºxï¼Œå°†é“¾è¡¨åˆ†ä¸ºä¸‰æ®µ
+ å°äºç­‰äºxçš„èŠ‚ç‚¹(ä¸åŒ…æ‹¬å¤´ç»“ç‚¹æœ¬èº«)ç»„æˆçš„é“¾è¡¨
+ å¤´ç»“ç‚¹è‡ªèº«
+ å¤§äºxçš„èŠ‚ç‚¹ç»„æˆçš„é“¾è¡¨

å†å¯¹ç¬¬ä¸€ä¸ªå’Œç¬¬ä¸‰ä¸ªé“¾è¡¨é€’å½’æ’åºå³å¯ï¼Œè¿™å°±æ˜¯é“¾è¡¨çš„å¿«é€Ÿæ’åº

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
graynode/.style={fill=teal!20, draw=teal!80},
yellownode/.style={fill=violet!20, draw=violet!80},
]
\foreach \x/\content/\type[count=\i from 0] in {0/3/graynode,2/1/,4/4/,6/2/,8/5/}
  \draw (\x,8) node[\type] (a\i) {\content};

\foreach \from in {0,...,3} {
  \pgfmathparse{int(\from+1)};
  \path[->] (a\from) edge (a\pgfmathresult);
}

\foreach \x/\content/\type[count=\i from 0] in {0/2/graynode,2/1/,4/3/,6/4/graynode,8/5/}
  \draw (\x,6) node[\type] (b\i) {\content};

\path[->] (b0) edge (b1) (b3) edge (b4);
\end{tikzpicture}
</script>

ä¸Šå›¾å°±å±•ç¤ºäº†ç®—æ³•ä¸­çš„ä¸€æ¬¡æ‹†åˆ†

```java
// https://leetcode.cn/problems/sort-list/submissions/593728291
    public ListNode sortList(ListNode head) {
        return qSort(head, null);
    }
    
    public ListNode qSort(ListNode start, ListNode end) {
        if (start == end) {
            return null;
        }
        if (start.next == end) {
            return start;
        }
    
        ListNode pivotal = start;
        ListNode current = start.next, prev = start;
        boolean sorted = true;
    
        while (current != end) {
            if (current.val < pivotal.val) {
                sorted = false;
                prev.next = current.next;
                current.next = start;
                start = current;
                current = prev.next;
            } else {
                if (prev.val > current.val) {
                    sorted = false;
                }
                prev = current;
                current = current.next;
            }
        }
    
        if (sorted) {
            return start;
        }
    
        if (pivotal.next != end) {
            pivotal.next = qSort(pivotal.next, end);
        }
        return start == pivotal ? start : qSort(start, pivotal);
    }
```
> ğŸ’¡ æ³¨æ„sortedè®°å½•é“¾è¡¨æ˜¯å¦å·²ç»æœ‰åºï¼Œå¦‚æœæ˜¯åˆ™è·³è¿‡åç»­æ“ä½œ

## LRU
ä¸‹é¢ä»‹ç»ä¸€ç§å¸¸è§çš„ç¼“å­˜ç»“æ„
```text
å®ç°ä¸€ä¸ªLRUç¼“å­˜(æœ€è¿‘æœ€å°‘ä½¿ç”¨)
æ„é€ å‡½æ•°ä¼ å…¥å®¹é‡capacityï¼Œè¡¨ç¤ºç¼“å­˜ä¸Šé™
int get(int key) å¦‚æœkeyåœ¨ç¼“å­˜ä¸­ï¼Œè¿”å›å¯¹åº”çš„å€¼ï¼Œå¦åˆ™è¿”å›-1
void put(int key, int value) å¦‚æœkeyå­˜åœ¨ï¼Œåˆ™æ›´æ–°ä¸ºæ–°å€¼ï¼Œ
å¦åˆ™æ’å…¥æ–°çš„é”®å€¼å¯¹ï¼Œå¦‚æœè¾¾åˆ°ä¸Šé™ï¼Œåˆ™å…ˆåˆ é™¤æœ€ä¹…æœªä½¿ç”¨çš„é”®å€¼å¯¹
```

æ˜¾ç„¶æˆ‘ä»¬éœ€è¦ç”¨Mapæ¥å­˜å‚¨é”®å€¼å¯¹ï¼Œè¿˜éœ€è¦é“¾è¡¨æ¥ç»´æŠ¤ç¼“å­˜é¡ºåº<br>
ä¸ºäº†æ–¹ä¾¿ç§»åŠ¨èŠ‚ç‚¹ï¼Œæˆ‘ä»¬ç”¨Mapçš„å€¼å­˜å‚¨keyå¯¹åº”èŠ‚ç‚¹çš„`å‰é©±`ï¼Œè€Œä¸æ˜¯èŠ‚ç‚¹æœ¬èº«<br>
ä¸‹é¢æ¼”ç¤ºä¸€ä¸ªä¸Šé™ä¸º2çš„æƒ…å†µ

<script defer type="text/tikz">
\begin{tikzpicture}[
every node/.style={circle, draw, node font=\large\bfseries, line width=1.5pt, minimum size=12mm},
]
\node[draw=none] (a0) at (-2,8) {put(1, 1)};
\draw (0,8) node (a1) {1:1};

\node[draw=none] (b0) at (-2,6) {put(2, 2)};
\draw (0,6) node (b1) {2:2} (2,6) node (b2) {1:1};
\path[->] (b1) edge (b2);


\node[draw=none] (c0) at (-2,4) {get(1) = 1};
\draw (0,4) node (c1) {1:1} (2,4) node (c2) {2:2};
\path[->] (c1) edge (c2);

\node[draw=none] (d0) at (-2,2) {put(3, 3)};
\draw (0,2) node (d1) {3:3} (2,2) node (d2) {1:1};
\path[->] (d1) edge (d2);

\node[draw=none] (e0) at (-2,0) {get(2) = -1};
\draw (0,0) node (e1) {3:3} (2,0) node (e2) {1:1};
\path[->] (e1) edge (e2);
\end{tikzpicture}
</script>

æ³¨æ„getå–åˆ°å€¼æ—¶å¯¹åº”çš„èŠ‚ç‚¹ä¼šæåˆ°è¡¨å¤´ï¼Œä»¥åŠå®¹é‡æ»¡æ—¶æ’å…¥çš„æ›¿æ¢æ“ä½œ

```java
// https://leetcode.cn/problems/lru-cache/submissions/593751447
    private static class Node {
        private int key;
        private int value;
        private Node next;
    
        public Node(int key, int value) {
            this.key = key;
            this.value = value;
        }
    
        public Node(int key, int value, Node next) {
            this.key = key;
            this.value = value;
            this.next = next;
        }
    }
    
    private Map<Integer, Node> keyToPrevNode = new HashMap<>();
    private Node DUMMY = new Node(1, 1);
    private Node tail = null;
    private int capacity;
    
    public LRUCache(int capacity) {
        this.capacity = capacity;
    }
    
    public int get(int key) {
        if (!keyToPrevNode.containsKey(key)) {
            return -1;
        }
        topping(key);
        return DUMMY.next.value;
    }
    
    private void topping(int key) {
        Node prev = keyToPrevNode.get(key);
        if (prev == DUMMY) {
            return;
        }
        Node current = prev.next;
        prev.next = current.next;
        if (prev.next == null) {
            tail = prev;
        } else {
            keyToPrevNode.put(prev.next.key, prev);
        }
        current.next = DUMMY.next;
        DUMMY.next = current;
        keyToPrevNode.put(current.next.key, current);
        keyToPrevNode.put(current.key, DUMMY);
    }
    
    public void put(int key, int value) {
        if (keyToPrevNode.containsKey(key)) {
            keyToPrevNode.get(key).next.value = value;
            topping(key);
            return;
        }
    
        if (capacity == keyToPrevNode.size()) {
            Node prevTail = keyToPrevNode.get(tail.key);
            keyToPrevNode.remove(tail.key);
            tail.key = key;
            tail.value = value;
            keyToPrevNode.put(key, prevTail);
        } else {
            Node node = new Node(key, value);
            if (tail != null) {
                tail.next = node;
                keyToPrevNode.put(key, tail);
            } else {
                DUMMY.next = node;
                keyToPrevNode.put(key, DUMMY);
            }
            tail = node;
        }
    
        topping(key);
    }
```
ä»¥ä¸‹å‡ ç‚¹å€¼å¾—æ³¨æ„
+ é“¾è¡¨é¦–å°¾åˆ†åˆ«ç”¨DUMMY.nextå’Œtailè¿½è¸ªï¼Œæ–¹ä¾¿æ’å…¥å’Œæ·»åŠ åˆ°è¡¨å¤´
+ toppingæ“ä½œå³æ˜¯å°†keyå¯¹åº”çš„èŠ‚ç‚¹ç§»åˆ°è¡¨å¤´ï¼Œåœ¨getå’Œputæ—¶å‡ä¼šç”¨åˆ°
+ å®¹é‡æ»¡æ—¶å…ˆå°†å°¾èŠ‚ç‚¹å…ƒç´ æ›¿æ¢æˆæ’å…¥å…ƒç´ ï¼Œå†toppingç½®é¡¶

## ç»“è¯­
æœ¬ç« æ¶‰åŠäº†å¸¸è§çš„é“¾è¡¨é¢˜å‹ï¼Œç©¿æ’è®²è§£äº†dummyèŠ‚ç‚¹ã€å¿«æ…¢æŒ‡é’ˆçš„åŸç†åŠåº”ç”¨ï¼Œå¸Œæœ›å¤§å®¶å¤šå¤šæ¢è®¨ï¼Œæ„Ÿè°¢æ”¯æŒã€‚

